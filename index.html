<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI創科ESG馬拉松 - 競賽報名</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .file-upload-area {
            border: 2px dashed #cbd5e0;
            transition: all 0.3s ease;
        }
        .file-upload-area:hover {
            border-color: #667eea;
            background-color: #f7fafc;
        }
        .file-upload-area.dragover {
            border-color: #667eea;
            background-color: #edf2f7;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Language Toggle -->
    <div class="fixed top-4 right-4 z-50">
        <button id="langToggle" class="bg-white shadow-lg rounded-full px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors">
            <span id="langText">English</span>
        </button>
    </div>

    <!-- Header -->
    <div class="gradient-bg text-white py-12">
        <div class="max-w-4xl mx-auto px-6 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">國際青少年AI創科ESG馬拉松</h1>
            <h2 id="subtitle" class="text-xl md:text-2xl font-light opacity-90">競賽報名表</h2>
            <div class="mt-6 bg-white/10 backdrop-blur-sm rounded-lg p-6 text-left max-w-3xl mx-auto">
                <p id="description" class="text-sm md:text-base leading-relaxed">
                    香港精算扶輪社主辦國際青少年AI創科 ESG馬拉松，基督教家庭服務中心與Metaprint合辦，面向全港小學，鼓勵學生運用AI Agent技術解決ESG挑戰。包括AI講座、培訓資源及導師支援。優勝隊伍可獲 MicroFund資助及國內外STEAM交流機會。<a href="https://www.socdcompetition.com/webinar-registration" class="text-yellow-300 hover:text-yellow-200 underline" target="_blank">了解更多詳情可以瀏覽</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Main Form -->
    <div class="max-w-4xl mx-auto px-6 py-12">
        <div class="bg-white rounded-2xl shadow-xl p-8 md:p-12">
            <form id="registrationForm" class="space-y-8">
                <!-- Team Name Section -->
                <div class="border-b border-gray-200 pb-8">
                    <h3 id="teamTitle" class="text-2xl font-semibold text-gray-800 mb-6">隊伍資料</h3>
                    <div class="mb-6">
                        <label id="teamNameLabel" class="block text-sm font-medium text-gray-700 mb-2">隊伍名稱</label>
                        <input type="text" id="teamName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all" required>
                    </div>
                </div>

                <!-- Participants Section -->
                <div class="border-b border-gray-200 pb-8">
                    <h3 id="participantsTitle" class="text-2xl font-semibold text-gray-800 mb-6">參賽者資料</h3>
                    <div id="participantsList" class="space-y-4">
                        <div class="participant-entry flex items-center space-x-4">
                            <div class="flex-1">
                                <input type="text" placeholder="參賽者姓名" class="participant-name w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                            </div>
                            <button type="button" class="remove-participant hidden bg-red-500 text-white px-3 py-2 rounded-lg hover:bg-red-600 transition-colors text-sm">
                                <span class="remove-text">移除</span>
                            </button>
                        </div>
                    </div>
                    <button type="button" id="addParticipant" class="mt-4 bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors font-medium">
                        <span id="addParticipantText">+ 新增參賽者</span>
                    </button>
                </div>

                <!-- Teacher Information -->
                <div class="border-b border-gray-200 pb-8">
                    <h3 id="teacherTitle" class="text-2xl font-semibold text-gray-800 mb-6">指導老師資料</h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label id="teacherNameLabel" class="block text-sm font-medium text-gray-700 mb-2">老師姓名</label>
                            <input type="text" id="teacherName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all" required>
                        </div>
                        <div>
                            <label id="teacherEmailLabel" class="block text-sm font-medium text-gray-700 mb-2">聯絡電郵</label>
                            <input type="email" id="teacherEmail" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all" required>
                        </div>
                        <div>
                            <label id="teacherPhoneLabel" class="block text-sm font-medium text-gray-700 mb-2">聯絡電話</label>
                            <input type="tel" id="teacherPhone" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all" required>
                        </div>
                        <div>
                            <label id="schoolNameLabel" class="block text-sm font-medium text-gray-700 mb-2">學校名稱</label>
                            <input type="text" id="schoolName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all" required>
                        </div>
                    </div>
                </div>

                <!-- Track Selection -->
                <div class="border-b border-gray-200 pb-8">
                    <h3 id="trackTitle" class="text-2xl font-semibold text-gray-800 mb-6">參賽組別</h3>
                    <div class="grid md:grid-cols-3 gap-4">
                        <label class="track-option cursor-pointer">
                            <input type="radio" name="track" value="E" class="sr-only" required>
                            <div class="track-card border-2 border-gray-200 rounded-lg p-6 text-center hover:border-blue-500 transition-all">
                                <div class="text-3xl font-bold text-blue-600 mb-2">E</div>
                                <div id="trackE" class="text-sm text-gray-600">環境保護</div>
                                <div id="trackEDesc" class="text-xs text-gray-500 mt-2">Environmental</div>
                            </div>
                        </label>
                        <label class="track-option cursor-pointer">
                            <input type="radio" name="track" value="S" class="sr-only" required>
                            <div class="track-card border-2 border-gray-200 rounded-lg p-6 text-center hover:border-blue-500 transition-all">
                                <div class="text-3xl font-bold text-green-600 mb-2">S</div>
                                <div id="trackS" class="text-sm text-gray-600">社會責任</div>
                                <div id="trackSDesc" class="text-xs text-gray-500 mt-2">Social</div>
                            </div>
                        </label>
                        <label class="track-option cursor-pointer">
                            <input type="radio" name="track" value="G" class="sr-only" required>
                            <div class="track-card border-2 border-gray-200 rounded-lg p-6 text-center hover:border-blue-500 transition-all">
                                <div class="text-3xl font-bold text-purple-600 mb-2">G</div>
                                <div id="trackG" class="text-sm text-gray-600">企業治理</div>
                                <div id="trackGDesc" class="text-xs text-gray-500 mt-2">Governance</div>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Payment Information -->
                <div class="pb-8">
                    <h3 id="paymentTitle" class="text-2xl font-semibold text-gray-800 mb-6">報名費用</h3>
                    
                    <!-- Fee Information -->
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6">
                        <div id="feeInfo" class="space-y-3 text-gray-700">
                            <div class="font-semibold text-lg text-blue-800">報名費用詳情：</div>
                            <div>• 標準報名費用：HK$1500/隊伍</div>
                            <div>• 早鳥優惠（8-10月）及扶輪社推薦學校優惠：HK$1200/隊伍</div>
                            <div class="text-sm text-gray-600 mt-2">報名費用包括（參賽資格、基礎培訓、證書）</div>
                        </div>
                    </div>

                    <!-- Payment Method Selection -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-4" id="paymentMethodLabel">付款方式</label>
                        <div class="space-y-3">
                            <label class="payment-method cursor-pointer">
                                <input type="radio" name="paymentMethod" value="payme" class="sr-only" required>
                                <div class="method-card border-2 border-gray-200 rounded-lg p-4 hover:border-blue-500 transition-all">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 border-2 border-gray-300 rounded-full mr-3 method-radio"></div>
                                        <div>
                                            <div class="font-medium text-gray-700" id="paymeTitle">PayMe QR Code</div>
                                            <div class="text-sm text-gray-500" id="paymeDesc">使用PayMe掃描QR碼付款</div>
                                        </div>
                                    </div>
                                </div>
                            </label>
                            <label class="payment-method cursor-pointer">
                                <input type="radio" name="paymentMethod" value="cheque" class="sr-only">
                                <div class="method-card border-2 border-gray-200 rounded-lg p-4 hover:border-blue-500 transition-all">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 border-2 border-gray-300 rounded-full mr-3 method-radio"></div>
                                        <div>
                                            <div class="font-medium text-gray-700" id="chequeTitle">支票</div>
                                            <div class="text-sm text-gray-500" id="chequeDesc">郵寄支票付款</div>
                                        </div>
                                    </div>
                                </div>
                            </label>
                            <label class="payment-method cursor-pointer">
                                <input type="radio" name="paymentMethod" value="transfer" class="sr-only">
                                <div class="method-card border-2 border-gray-200 rounded-lg p-4 hover:border-blue-500 transition-all">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 border-2 border-gray-300 rounded-full mr-3 method-radio"></div>
                                        <div>
                                            <div class="font-medium text-gray-700" id="transferTitle">銀行轉帳</div>
                                            <div class="text-sm text-gray-500" id="transferDesc">直接銀行轉帳付款</div>
                                        </div>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Payment Proof Note -->
                    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                        <div class="flex items-start">
                            <svg class="h-5 w-5 text-yellow-500 mr-2 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                            </svg>
                            <div class="text-sm text-yellow-700">
                                <div id="proofTitle" class="font-medium mb-1">重要提醒</div>
                                <div id="proofContent">付款後請拍攝付款證明照片，並在提交表格時一併發送給我們確認。</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="text-center">
                    <button type="submit" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-12 py-4 rounded-lg text-lg font-semibold hover:from-blue-700 hover:to-purple-700 transform hover:scale-105 transition-all shadow-lg">
                        <span id="submitText">提交報名</span>
                    </button>
                    
                    <!-- Form Notice -->
                    <div class="mt-6 text-sm text-gray-600 max-w-2xl mx-auto">
                        <p id="formNotice" class="leading-relaxed">
                            此表格將生成WhatsApp訊息進行報名申請，委員會將透過您註冊時使用的WhatsApp與您聯繫。如果您無法使用WhatsApp，<a href="https://docs.google.com/forms/d/e/1FAIpQLSdzyw6nm0IvxCG0LzHQp75SXcDzjV42scSk22605M9i7VGrHA/viewform" class="text-blue-600 hover:text-blue-800 underline" target="_blank">請使用此連結</a>
                        </p>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Language translations
        const translations = {
            zh: {
                subtitle: "競賽報名表",
                description: "香港精算扶輪社主辦國際青少年AI創科 ESG馬拉松，基督教家庭服務中心與Metaprint合辦，面向全港小學，鼓勵學生運用AI Agent技術解決ESG挑戰。包括AI講座、培訓資源及導師支援。優勝隊伍可獲 MicroFund資助及國內外STEAM交流機會。了解更多詳情可以瀏覽 https://www.socdcompetition.com/webinar-registration",
                teamTitle: "隊伍資料",
                teamNameLabel: "隊伍名稱",
                participantsTitle: "參賽者資料",
                addParticipantText: "+ 新增參賽者",
                removeText: "移除",
                teacherTitle: "指導老師資料",
                teacherNameLabel: "老師姓名",
                teacherEmailLabel: "聯絡電郵",
                teacherPhoneLabel: "聯絡電話",
                schoolNameLabel: "學校名稱",
                trackTitle: "參賽組別",
                trackE: "環境保護",
                trackEDesc: "Environmental",
                trackS: "社會責任",
                trackSDesc: "Social",
                trackG: "企業治理",
                trackGDesc: "Governance",
                paymentTitle: "報名費用",
                paymentMethodLabel: "付款方式",
                paymeTitle: "PayMe QR Code",
                paymeDesc: "使用PayMe掃描QR碼付款",
                chequeTitle: "支票",
                chequeDesc: "郵寄支票付款",
                transferTitle: "銀行轉帳",
                transferDesc: "直接銀行轉帳付款",
                proofTitle: "重要提醒",
                proofContent: "付款後請拍攝付款證明照片，並在提交表格時一併發送給我們確認。",
                submitText: "提交報名",
                formNotice: "此表格將生成WhatsApp訊息進行報名申請，委員會將透過您註冊時使用的WhatsApp與您聯繫。如果您無法使用WhatsApp，請使用此連結：",
                langText: "English",
                participantPlaceholder: "參賽者姓名"
            },
            en: {
                subtitle: "Competition Registration Form",
                description: "The International Youth AI Innovation ESG Marathon is organized by the Hong Kong Actuarial Rotary Club, co-organized by Christian Family Service Centre and Metaprint, targeting primary schools across Hong Kong. It encourages students to use AI Agent technology to solve ESG challenges. Includes AI lectures, training resources and mentor support. Winning teams can receive MicroFund funding and domestic and international STEAM exchange opportunities.",
                teamTitle: "Team Information",
                teamNameLabel: "Team Name",
                participantsTitle: "Participants Information",
                addParticipantText: "+ Add Participant",
                removeText: "Remove",
                teacherTitle: "Teacher Information",
                teacherNameLabel: "Teacher Name",
                teacherEmailLabel: "Contact Email",
                teacherPhoneLabel: "Contact Phone",
                schoolNameLabel: "School Name",
                trackTitle: "Competition Track",
                trackE: "Environmental",
                trackEDesc: "環境保護",
                trackS: "Social",
                trackSDesc: "社會責任",
                trackG: "Governance",
                trackGDesc: "企業治理",
                paymentTitle: "Registration Fee",
                paymentMethodLabel: "Payment Method",
                paymeTitle: "PayMe QR Code",
                paymeDesc: "Pay using PayMe QR code scan",
                chequeTitle: "Cheque",
                chequeDesc: "Mail cheque payment",
                transferTitle: "Bank Transfer",
                transferDesc: "Direct bank transfer payment",
                proofTitle: "Important Note",
                proofContent: "Please take a photo of payment proof after payment and send it to us when submitting the form for confirmation.",
                submitText: "Submit Registration",
                formNotice: "This form will generate a WhatsApp message for registration application. The committee will communicate with you through the WhatsApp used during registration. If you cannot use WhatsApp,",
                langText: "中文",
                participantPlaceholder: "Participant Name"
            }
        };

        let currentLang = 'zh';

        // Language toggle functionality
        document.getElementById('langToggle').addEventListener('click', function() {
            currentLang = currentLang === 'zh' ? 'en' : 'zh';
            updateLanguage();
        });

        function updateLanguage() {
            const t = translations[currentLang];
            
            // Update all text elements
            Object.keys(t).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = t[key];
                }
            });

            // Update participant placeholders
            document.querySelectorAll('.participant-name').forEach(input => {
                input.placeholder = t.participantPlaceholder;
            });

            // Update remove button text
            document.querySelectorAll('.remove-text').forEach(span => {
                span.textContent = t.removeText;
            });
        }

        // Participant management
        let participantCount = 1;

        document.getElementById('addParticipant').addEventListener('click', function() {
            participantCount++;
            const participantsList = document.getElementById('participantsList');
            const newParticipant = document.createElement('div');
            newParticipant.className = 'participant-entry flex items-center space-x-4';
            newParticipant.innerHTML = `
                <div class="flex-1">
                    <input type="text" placeholder="${translations[currentLang].participantPlaceholder}" class="participant-name w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                </div>
                <button type="button" class="remove-participant bg-red-500 text-white px-3 py-2 rounded-lg hover:bg-red-600 transition-colors text-sm">
                    <span class="remove-text">${translations[currentLang].removeText}</span>
                </button>
            `;
            participantsList.appendChild(newParticipant);
            updateRemoveButtons();
        });

        function updateRemoveButtons() {
            const removeButtons = document.querySelectorAll('.remove-participant');
            removeButtons.forEach((button, index) => {
                if (participantCount > 1) {
                    button.classList.remove('hidden');
                } else {
                    button.classList.add('hidden');
                }
                
                button.onclick = function() {
                    button.closest('.participant-entry').remove();
                    participantCount--;
                    updateRemoveButtons();
                };
            });
        }

        // Track selection
        document.querySelectorAll('.track-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.track-card').forEach(card => {
                    card.classList.remove('border-blue-500', 'bg-blue-50');
                    card.classList.add('border-gray-200');
                });
                
                const card = this.querySelector('.track-card');
                card.classList.remove('border-gray-200');
                card.classList.add('border-blue-500', 'bg-blue-50');
                
                this.querySelector('input[type="radio"]').checked = true;
            });
        });

        // Payment method selection
        document.querySelectorAll('.payment-method').forEach(method => {
            method.addEventListener('click', function() {
                document.querySelectorAll('.method-card').forEach(card => {
                    card.classList.remove('border-blue-500', 'bg-blue-50');
                    card.classList.add('border-gray-200');
                    const radio = card.querySelector('.method-radio');
                    radio.classList.remove('border-blue-500', 'bg-blue-500');
                    radio.classList.add('border-gray-300');
                });
                
                const card = this.querySelector('.method-card');
                card.classList.remove('border-gray-200');
                card.classList.add('border-blue-500', 'bg-blue-50');
                
                const radio = card.querySelector('.method-radio');
                radio.classList.remove('border-gray-300');
                radio.classList.add('border-blue-500', 'bg-blue-500');
                
                this.querySelector('input[type="radio"]').checked = true;
            });
        });



        // Form submission
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Collect form data
            const participants = Array.from(document.querySelectorAll('.participant-name'))
                .map(input => input.value)
                .filter(name => name.trim() !== '');
            
            const formData = {
                teamName: document.getElementById('teamName').value,
                participants: participants,
                teacherName: document.getElementById('teacherName').value,
                teacherEmail: document.getElementById('teacherEmail').value,
                teacherPhone: document.getElementById('teacherPhone').value,
                schoolName: document.getElementById('schoolName').value,
                track: document.querySelector('input[name="track"]:checked')?.value,
                paymentMethod: document.querySelector('input[name="paymentMethod"]:checked')?.value
            };
            
            // Create WhatsApp message
            const trackNames = {
                'E': currentLang === 'zh' ? '環境保護 (Environmental)' : 'Environmental (環境保護)',
                'S': currentLang === 'zh' ? '社會責任 (Social)' : 'Social (社會責任)',
                'G': currentLang === 'zh' ? '企業治理 (Governance)' : 'Governance (企業治理)'
            };

            const paymentNames = {
                'payme': currentLang === 'zh' ? 'PayMe QR Code' : 'PayMe QR Code',
                'cheque': currentLang === 'zh' ? '支票' : 'Cheque',
                'transfer': currentLang === 'zh' ? '銀行轉帳' : 'Bank Transfer'
            };
            
            const message = currentLang === 'zh' ? 
                `國際青少年AI創科ESG馬拉松 - 競賽報名

隊伍名稱: ${formData.teamName}

參賽者:
${formData.participants.map((name, index) => `${index + 1}. ${name}`).join('\n')}

指導老師資料:
姓名: ${formData.teacherName}
電郵: ${formData.teacherEmail}
電話: ${formData.teacherPhone}
學校: ${formData.schoolName}

參賽組別: ${trackNames[formData.track]}

付款方式: ${paymentNames[formData.paymentMethod]}

備註: 付款證明將隨後提供` :
                `International Youth AI Innovation ESG Marathon - Registration

Team Name: ${formData.teamName}

Participants:
${formData.participants.map((name, index) => `${index + 1}. ${name}`).join('\n')}

Teacher Information:
Name: ${formData.teacherName}
Email: ${formData.teacherEmail}
Phone: ${formData.teacherPhone}
School: ${formData.schoolName}

Competition Track: ${trackNames[formData.track]}

Payment Method: ${paymentNames[formData.paymentMethod]}

Note: Payment proof will be provided separately`;
            
            // Encode message for WhatsApp URL
            const encodedMessage = encodeURIComponent(message);
            const whatsappURL = `https://wa.me/85254920148?text=${encodedMessage}`;
            
            // Open WhatsApp
            window.open(whatsappURL, '_blank');
        });

        // Initialize
        updateLanguage();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97cd6dac93008b36',t:'MTc1NzQ5MTYxMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
